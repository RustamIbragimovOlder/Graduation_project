ticketData = `
    [
        {
            "id": "1",
            "title": "Вопрос 1",
            "image": "/./image/No_image.jpg",
            "question": "В каком случае водитель совершит вынужденную остановку?",
            "answer_1": "1. Остановившись непосредственно перед пешеходным переходом, чтобы уступить дорогу пешеходу.",
            "correct_1": "inCorrect",
            "answer_2": "2. Остановившись на проезжей части из-за технической неисправности транспортного средства.",
            "correct_2": "correct",
            "answer_3": "3. В обоих перечисленных случаях.",
            "correct_3": "inCorrect",
            "answer_4": "",
            "correct_4": "",
            "hint": "Правильный ответ: 2. «Вынужденная остановка» - прекращение движения транспортного средства, связанное с его технической неисправностью, опасностью, создаваемой перевозимым грузом, состоянием водителя(пассажира) или появления препятствия на дороге. (Пункт 1.2 ПДД, термин «Вынужденная остановка»)"
        },
        {
            "id": "2",
            "title": "Вопрос 2",
            "image": "/./image/ticket1_question2_img.jpg",
            "question": "Разрешен ли Вам поворот на дорогу с грунтовым покрытием?",
            "answer_1": "1. Разрешен.",
            "correct_1": "correct",
            "answer_2": "2. Разрешен только при технической неисправности транспортного средства.",
            "correct_2": "inCorrect",
            "answer_3": "3. Запрещен.",
            "correct_3": "inCorrect",
            "answer_4": "",
            "correct_4": "",
            "hint": "Правильный ответ: 1. Впереди по ходу Вашего движения предупреждающий знак 1.11.2 «Опасный поворот» и знаки 1.34.2 «Направление поворота», которые указывают направление движения на закруглении дороги малого радиуса с ограниченной видимостью. Ничего, что бы Вам запрещало поворот на дорогу с грунтовым покрытием, нет. По Вашему желанию поворачиваете направо. («Дорожные знаки»)"
        },
        {
            "id": "3",
            "title": "Вопрос 3",
            "image": "/./image/ticket1_question3_img.jpg",
            "question": "Можно ли Вам остановиться в указанном месте для посадки пассажира?",
            "answer_1": "1. Можно.",
            "correct_1": "correct",
            "answer_2": "2. Можно, если Вы управляете такси.",
            "correct_2": "inCorrect",
            "answer_3": "3. Нельзя.",
            "correct_3": "inCorrect",
            "answer_4": "",
            "correct_4": "",
            "hint": "Правильный ответ: 1. Знак 3.28 «Стоянка запрещена» не запрещает производить остановку. В указанном месте Вам совершить остановку можно. («Дорожные знаки»)"
            },
            {
                "id": "4",
                "title": "Вопрос 4",
                "image": "/./image/ticket1_question4_img.jpg",
                "question": "Какие из указанных знаков запрещают движение водителям мопедов?",
                "answer_1": "1. Только А",
                "correct_1": "inCorrect",
                "answer_2": "2. Только Б",
                "correct_2": "inCorrect",
                "answer_3": "3. В и Г",
                "correct_3": "inCorrect",
                "answer_4": "4. Все",
                "correct_4": "correct",
                "hint": "Правильный ответ: 4. Запрещают движение водителям мопедов все знаки из перечисленных: А – 4.4.1 «Велосипедная дорожка»; Б – 5.14.1 «Полоса для маршрутных транспортных средств»; В – 4.5.2 «Пешеходная и велосипедная дорожка с совмещенным движением»; Г – 4.5.4 «Пешеходная и велосипедная дорожка с разделением движения». (Дорожные знаки). Только знак 5.14.2 «Полоса для велосипедистов» разрешает движение мопедов, но он не представлен в вопросе Пункт 24.7 ПДД"
            },
            {
                "id": "5",
                "title": "Вопрос 5",
                "image": "/./image/ticket1_question5_img.jpg",
                "question": "Вы намерены повернуть налево. Где следует остановиться, чтобы уступить дорогу легковому автомобилю?",
                "answer_1": "1. Перед знаком",
                "correct_1": "inCorrect",
                "answer_2": "2. Перед перекрестком у линии разметки",
                "correct_2": "correct",
                "answer_3": "3. На перекрестке перед прерывистой линией разметки",
                "correct_3": "inCorrect",
                "answer_4": "4. В любом месте по усмотрению водителя",
                "correct_4": "inCorrect",
                "hint": "Правильный ответ: 2. Согласно знаку 2.4 «Уступите дорогу» водители должны пропускать транспорт, движущийся по пересекаемой дороге. Разметка 1.13 в виде треугольников указывает место, где при необходимости следует остановиться. У Вас такая необходимость есть, так как при повороте налево Вы уступаете дорогу легковому автомобилю. («Дорожные знаки», «Горизонтальная разметка»)"
            },
            {
                "id": "6",
                "title": "Вопрос 6",
                "image": "/./image/No_image.jpg",
                "question": "Что означает мигание зелёного сигнала светофора?",
                "answer_1": "1. Предупреждает о неисправности светофора",
                "correct_1": "inCorrect",
                "answer_2": "2. Разрешает движение и информирует о том, что вскоре будет включен запрещающий сигнал",
                "correct_2": "correct",
                "answer_3": "3. Запрещает дальнейшее движение",
                "correct_3": "inCorrect",
                "answer_4": "",
                "correct_4": "",
                "hint": "Правильный ответ: 2. Длительность мигания зелёного сигнала светофора обычно составляет 3-4 с. Это позволяет водителю заблаговременно, в зависимости от конкретных условий, принять решение: 1) продолжить движение с прежней скоростью; 2) несколько увеличить скорость; 3) начать снижение скорости вплоть до остановки. (Пункт 6.2 ПДД)"
            },
            {
                "id": "7",
                "title": "Вопрос 7",
                "image": "/./image/No_image.jpg",
                "question": "Водитель обязан подавать сигналы световыми указателями поворота (рукой):",
                "answer_1": "1. Перед началом движения или перестроением",
                "correct_1": "inCorrect",
                "answer_2": "2. Перед поворотом или разворотом",
                "correct_2": "inCorrect",
                "answer_3": "3. Перед остановкой",
                "correct_3": "inCorrect",
                "answer_4": "4. Во всех перечисленных случаях",
                "correct_4": "correct",
                "hint": "Правильный ответ: 4. Перед началом движения, перестроением, поворотом (разворотом) и остановкой водитель обязан подавать сигналы световыми указателями поворота соответствующего направления, а если они отсутствуют или неисправны – рукой. При выполнении манёвра не должны создаваться опасность для движения, а также помехи другим участникам дорожного движения. (Пункт 8.1 ПДД)"
            },
            {
                "id": "8",
                "title": "Вопрос 8",
                "image": "/./image/ticket1_question8_img.jpg",
                "question": "Как Вам следует поступить при повороте направо?",
                "answer_1": "1. Перестроиться на правую полосу, затем осуществить поворот",
                "correct_1": "inCorrect",
                "answer_2": "2. Продолжить движение по второй полосе до перекрёстка, затем повернуть",
                "correct_2": "inCorrect",
                "answer_3": "3. Возможны оба варианта действий",
                "correct_3": "correct",
                "answer_4": "",
                "correct_4": "",
                "hint": "Правильный ответ: 3. Разметка разрешает поворот направо с обеих полос, поэтому возможны оба варианта действий. В таких случаях, выполняя поворот на перекрёстке, соблюдайте избранную Вами рядность. («Горизонтальная разметка» 1.18, пункт 8.5 ПДД)"
            },
            {
                "id": "9",
                "title": "Вопрос 9",
                "image": "/./image/ticket1_question9_img.jpg",
                "question": "По какой траектории Вам разрешено выполнить разворот?",
                "answer_1": "1. Только по А",
                "correct_1": "correct",
                "answer_2": "2. Только по Б",
                "correct_2": "inCorrect",
                "answer_3": "3. По любой из указанных",
                "correct_3": "inCorrect",
                "answer_4": "",
                "correct_4": "",
                "hint": "Правильный ответ: 1. Выезд с пересечения проезжих частей должен быть выполнен на «свою» сторону, т.е. исходя из правостороннего движения без выезда на сторону встречного движения. Двигаясь по траектории «Б», Вы совершаете встречное движение по пересекаемой дороге, что крайне опасно, так как можете произвести лобовое столкновение с автомобилем, приближающимся слева. Развернуться следует по траектории «А». (Пункт 8.6 ПДД)"
            },
            {
                "id": "10",
                "title": "Вопрос 10",
                "image": "/./image/ticket1_question10_img.jpg",
                "question": "С какой скоростью Вы можете продолжить движение вне населённого пункта по левой полосе на легковом автомобиле?",
                "answer_1": "1. Не более 50 км/ч",
                "correct_1": "inCorrect",
                "answer_2": "2. Не менее 50 км/ч и не более 70 км/ч",
                "correct_2": "inCorrect",
                "answer_3": "3. Не менее 50 км/ч и не более 90 км/ч",
                "correct_3": "correct",
                "answer_4": "",
                "correct_4": "",
                "hint": "Правильный ответ: 3. Над левой полосой висит знак 4.6 «Ограничение минимальной скорости» с табличкой 8.14 «Полоса движения», указывающей полосу движения, на которую распространяется действие знака. Скорость движения по левой полосе не должна быть менее 50 км/ч и не должна превышать допустимой для легковых автомобилей вне населённых пунктов, т.е. не более 90 км/ч. («Дорожные знаки», пункт 10.3 ПДД)"
            },
            {
                "id": "11",
                "title": "Вопрос 11",
                "image": "/./image/ticket1_question11_img.jpg",
                "question": "Можно ли водителю легкового автомобиля выполнить опережение грузовых автомобилей вне населенного пункта по такой траектории?",
                "answer_1": "1. Можно",
                "correct_1": "correct",
                "answer_2": "2. Можно, если скорость грузовых автомобилей менее 30 км/ч",
                "correct_2": "inCorrect",
                "answer_3": "3. Нельзя ",
                "correct_3": "inCorrect",
                "answer_4": "",
                "correct_4": "",
                "hint": "Правильный ответ: 1. На дорогах с двусторонним движением, имеющих четыре и более полос для движения обгон запрещён. В таких ситуациях можно совершать только опережение. Соблюдая правила маневрирования водитель легкового автомобиля на данном участке дороги может совершать опережение любых транспортных средств по различным траекториям включая и указанную. (Пункт 9.2 ПДД)"
            },
            {
                "id": "12",
                "title": "Вопрос 12",
                "image": "/./image/ticket1_question12_img.jpg",
                "question": "В каком случае водителю разрешается поставить автомобиль на стоянку в указанном месте?",
                "answer_1": "1. Только если расстояние до сплошной линии разметки не менее 3 м",
                "correct_1": "inCorrect",
                "answer_2": "2. Только если расстояние до края пересекаемой проезжей части не менее 5 м",
                "correct_2": "inCorrect",
                "answer_3": "3. При соблюдении обоих перечисленных условий ",
                "correct_3": "correct",
                "answer_4": "",
                "correct_4": "",
                "hint": "Правильный ответ: 3. Водитель не нарушает правила остановки и стоянки. Расстояние до края проезжей части, до сплошной линии разметки соблюдается – не менее допустимых. Остановка и стоянка за пешеходным переходом также допустима. Правильный ответ – при соблюдении обоих перечисленных условий. (Пункт 12.4 ПДД)"
            },
            {
                "id": "13",
                "title": "Вопрос 13",
                "image": "/./image/ticket1_question13_img.jpg",
                "question": "При повороте направо Вы должны уступить дорогу:",
                "answer_1": "1. Только велосипедисту",
                "correct_1": "inCorrect",
                "answer_2": "2. Только пешеходам",
                "correct_2": "inCorrect",
                "answer_3": "3. Пешеходам и велосипедисту",
                "correct_3": "correct",
                "answer_4": "4. Никому",
                "correct_4": "inCorrect",
                "hint": "Правильный ответ: 3. При повороте направо или налево водитель обязан уступить дорогу пешеходам, переходящим проезжую часть дороги, на которую он поворачивает, лицам, использующим для передвижения средства индивидуальной мобильности (далее СИМ) и велосипедистам, независимо от того, регулируемый или нерегулируемый это перекресток. (Пункт 13.1 ПДД)"
            },
            {
                "id": "14",
                "title": "Вопрос 14",
                "image": "/./image/ticket1_question14_img.jpg",
                "question": "Вы намерены проехать перекресток в прямом направлении. Кому Вы должны уступить дорогу?",
                "answer_1": "1. Обоим трамваям",
                "correct_1": "correct",
                "answer_2": "2. Только трамваю А",
                "correct_2": "inCorrect",
                "answer_3": "3. Только трамваю Б",
                "correct_3": "inCorrect",
                "answer_4": "4. Никому",
                "correct_4": "inCorrect",
                "hint": "Правильный ответ: 1. Перекрёсток равнозначный. Трамваи в равнозначных условиях имеют преимущество перед безрельсовыми транспортными средствами. Между собой руководствуются «правилом правой руки». Помеха справа у трамвая «А». Соответственно первым проезжает трамвай «Б», за ним «А», Вы последним. (Пункт 13.11 ПДД)"
            },
            {
                "id": "15",
                "title": "Вопрос 15",
                "image": "/./image/ticket1_question15_img.jpg",
                "question": "Кому Вы обязаны уступить дорогу при повороте налево?",
                "answer_1": "1. Только автобусу",
                "correct_1": "inCorrect",
                "answer_2": "2. Только легковому автомобилю",
                "correct_2": "inCorrect",
                "answer_3": "3. Никому",
                "correct_3": "correct",
                "answer_4": "",
                "correct_4": "",
                "hint": "Правильный ответ: 3. Перекрёсток неравнозначный. Главная дорога меняет направление. Транспортные средства, находящиеся на главной дороге, имеют преимущество, а водители между собой руководствуются «правилом правой руки». Никому не уступая, первым проезжаете Вы, вторым автобус, легковой автомобиль последним, так как он находится на второстепенной дороге. («Дорожные знаки», пункты 13.9, 13.10, 13.11 ПДД)"
            },
            {
                "id": "16",
                "title": "Вопрос 16",
                "image": "/./image/ticket1_question16_img.jpg",
                "question": "С какой максимальной скоростью можно продолжить движение за знаком?",
                "answer_1": "1. 60 км/ч",
                "correct_1": "inCorrect",
                "answer_2": "2. 50 км/ч",
                "correct_2": "inCorrect",
                "answer_3": "3. 30 км/ч",
                "correct_3": "inCorrect",
                "answer_4": "4. 20 км/ч",
                "correct_4": "correct",
                "hint": "Правильный ответ: 4. В жилой зоне, согласно знаку, в которую Вы въезжаете, разрешается движение со скоростью не более 20 км/ч. («Дорожные знаки» 5.21, пункт 10.2 ПДД)."
            },
            {
                "id": "17",
                "title": "Вопрос 17",
                "image": "/./image/No_image.jpg",
                "question": "Для перевозки людей на мотоцикле водитель должен иметь водительское удостоверение на право управления транспортными средствами:",
                "answer_1": "1. Категории «A» или подкатегории «A1»",
                "correct_1": "inCorrect",
                "answer_2": "2. Любой категории или подкатегории в течение 2 и более лет",
                "correct_2": "inCorrect",
                "answer_3": "3. Только категории «A» или подкатегории «A1» в течение 2 и более лет",
                "correct_3": "correct",
                "answer_4": "",
                "correct_4": "",
                "hint": "Правильный ответ: 3. Перевозка людей на мотоцикле должна осуществляться водителем, имеющим водительское удостоверение на право управления ТС категории «A» или подкатегории «A1» в течение 2 и более лет. (Пункт 22.2(1) ПДД)"
            },
            {
                "id": "18",
                "title": "Вопрос 18",
                "image": "/./image/No_image.jpg",
                "question": "При какой неисправности разрешается эксплуатация транспортного средства?",
                "answer_1": "1. Не работают запорные устройства топливных баков",
                "correct_1": "inCorrect",
                "answer_2": "2. Не работают механизм регулировки и фиксирующее устройство сиденья водителя",
                "correct_2": "inCorrect",
                "answer_3": "3. Не работает устройство обдува ветрового стекла",
                "correct_3": "inCorrect",
                "answer_4": "4. Не работает стеклоподъемник",
                "correct_4": "correct",
                "hint": "Правильный ответ: 4. Перечисленные в ответах неисправности, за исключением неработающего стеклоподъёмника, указаны в «Перечне неисправностей». Неработающий стеклоподъемник в данном перечне не указан. Следовательно, это не может быть причиной запрещения эксплуатации транспортного средства. («Перечень неисправностей» п. 8.3, 9.2)"
            },
            {
                "id": "19",
                "title": "Вопрос 19",
                "image": "/./image/No_image.jpg",
                "question": "В случае, когда правые колёса автомобиля наезжают на неукреплённую влажную обочину, рекомендуется:",
                "answer_1": "1. Затормозить и полностью остановиться",
                "correct_1": "inCorrect",
                "answer_2": "2. Затормозить и плавно направить автомобиль на проезжую часть",
                "correct_2": "inCorrect",
                "answer_3": "3. Не прибегая к торможению, плавно направить автомобиль на проезжую часть",
                "correct_3": "correct",
                "answer_4": "",
                "correct_4": "",
                "hint": "Правильный ответ: 3. Такая ситуация опасна вследствие возникновения момента сил,стремящегося развернуть автомобиль. Старайтесь плавно вернуть автомобиль на проезжую часть не меняя скорости."
            },
            {
                "id": "20",
                "title": "Вопрос 20",
                "image": "/./image/No_image.jpg",
                "question": "Что понимается под временем реакции водителя?",
                "answer_1": "1. Время с момента обнаружения водителем опасности до полной остановки транспортного средства",
                "correct_1": "inCorrect",
                "answer_2": "2. Время с момента обнаружения водителем опасности до начала принятия мер по её избежанию",
                "correct_2": "correct",
                "answer_3": "3. Время, необходимое для переноса ноги с педали управления подачи топлива на педаль тормоза",
                "correct_3": "inCorrect",
                "answer_4": "",
                "correct_4": "",
                "hint": "Правильный ответ: 2. Под временем реакции водителя понимается время с момента обнаружения водителем опасности до начала принятия мер по её избежанию. Время реакции водителя - величина непостоянная. В основном зависит от возраста, самочувствия в данный момент. Компенсировать недостаток реакции можно снижением скорости. («Техника управления автомобилем»)"
            }
    ]`;

const ticketInfo = JSON.parse(ticketData);

function renderTicketInfo(ticketInfo) {
    const ticketBox = document.querySelector('.ticket-box');

    ticketInfo.forEach(item => {
        ticketBox.insertAdjacentHTML('beforeend', `
    	<div class="ticket-box_item">
            <p class="ticket-box_item__title">${item.title}</p>
            <img class="ticket-box_item__image" src="${item.image}" alt="">
            <p class="ticket-box_item__question">${item.question}</p>
            <button class="ticket-box_item__answer ${item.correct_1}" id="${item.id}">${item.answer_1}</button>
            <button class="ticket-box_item__answer ${item.correct_2}" id="${item.id}">${item.answer_2}</button>
            <button class="ticket-box_item__answer ${item.correct_3}" id="${item.id}">${item.answer_3}</button>
            <button class="ticket-box_item__answer ${item.correct_4}" id="${item.id}">${item.answer_4}</button>
            <button class="ticket-box_item__hint-btn">Показать подсказку</button>
            <p class="ticket-box_item__hint-text">${item.hint}</p>
		</div>
        `)
        let resultCount = document.getElementById('counter').textContent;

        let correctCount = document.getElementById('counterCorrect').textContent;
        document.querySelectorAll('.correct').forEach(function (e) {
            e.addEventListener('click', function () {
                this.style.backgroundColor = "#A8E4A0";
                correctCount++;
                resultCount++;
                document.getElementById('counterCorrect').textContent = correctCount;
                document.getElementById('counter').textContent = resultCount;
                const id = this.getAttribute('id');
                let buttons = document.getElementsByClassName("ticket-box_item__answer");
                for (const button of buttons) {
                    let buttonId = button.getAttribute('id');
                    if (id === buttonId) {
                        button.disabled = true;
                    }
                }
            })
        });

        let inCorrectCount = document.getElementById('inCounterCorrect').textContent;
        document.querySelectorAll('.inCorrect').forEach(function (e) {
            e.addEventListener('click', function () {
                this.style.backgroundColor = "#F80000";
                inCorrectCount++;
                resultCount++;
                document.getElementById('inCounterCorrect').textContent = inCorrectCount;
                document.getElementById('counter').textContent = resultCount;
                const id = this.getAttribute('id');
                let buttons = document.getElementsByClassName("ticket-box_item__answer");
                for (const button of buttons) {
                    let buttonId = button.getAttribute('id');
                    if (id === buttonId) {
                        button.disabled = true;
                    }
                }
            })
        });
    });
}

renderTicketInfo(ticketInfo);

let navigation = document.querySelector(".navigation");
let slider = document.querySelector(".slider");
// let content = document.querySelector(".slider .content");
let content = document.querySelector(".slider .ticket-box");

let navcount = content.offsetWidth / slider.offsetWidth;
let previous = document.querySelector(".previous");
let next = document.querySelector(".next");
for (let i = 1; i <= navcount; i++) {
    let num = document.createElement("span");
    num.className = "num";
    num.dataset.index = i;
    num.textContent = i;
    next.before(num);
}
navigation.firstElementChild.nextSibling.classList.add("selected");
let nums = Array.from(document.querySelectorAll(".num"));

next.addEventListener("click", function () {
    let current = document.querySelector(".selected");
    if (nums.indexOf(current) + 1 < nums.length) {
        nums.forEach((e) => {
            e.classList.remove("selected");
        });
        current.nextElementSibling.classList.add("selected");
        content.style.transform = `translateX(${current.dataset.index * -slider.offsetWidth}px)`;
    }
});
previous.addEventListener("click", function () {
    let current = document.querySelector(".selected");
    if (nums.indexOf(current) > 0) {
        nums.forEach((e) => {
            e.classList.remove("selected");
        });
        content.style.transform = `translateX(${(current.dataset.index - 2) * -slider.offsetWidth}px)`;
        current.previousElementSibling.classList.add("selected");
    }
});
nums.forEach((e) => {
    e.addEventListener("click", function () {
        nums.forEach((e) => {
            e.classList.remove("selected");
        });
        e.classList.add("selected");
        content.style.transform = `translateX(${nums.indexOf(e) * -slider.offsetWidth}px)`;
    });
});